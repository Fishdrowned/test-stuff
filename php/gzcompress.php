<?php
include __DIR__ . '/.include.php';

$txt = 'O:34:"Phwoolcon\Admin\Acl\Adapter\UrlAcl":17:{s:12:"*regexUrls";a:0:{}s:13:"*normalUrls";a:3:{s:8:"url-post";a:18:{s:19:"/admin/icons/delete";s:19:"/admin/icons/delete";s:19:"/admin/icons/client";s:19:"/admin/icons/client";s:18:"/admin/config/edit";s:18:"/admin/config/edit";s:14:"/admin/clients";s:14:"/admin/clients";s:21:"/admin/scripts/delete";s:21:"/admin/scripts/delete";s:23:"/admin/providers/params";s:23:"/admin/providers/params";s:18:"/admin/clients/add";s:18:"/admin/clients/add";s:20:"/admin/providers/syn";s:20:"/admin/providers/syn";s:17:"/admin/admin/edit";s:17:"/admin/admin/edit";s:18:"/admin/clients/syn";s:18:"/admin/clients/syn";s:12:"/admin/icons";s:12:"/admin/icons";s:22:"/admin/users/authorise";s:22:"/admin/users/authorise";s:17:"/admin/admin/role";s:17:"/admin/admin/role";s:17:"/admin/users/edit";s:17:"/admin/users/edit";s:12:"/admin/cpses";s:12:"/admin/cpses";s:14:"/admin/scripts";s:14:"/admin/scripts";s:19:"/admin/cpses/delete";s:19:"/admin/cpses/delete";s:14:"/admin/profile";s:14:"/admin/profile";}s:7:"url-get";a:18:{s:13:"/admin/admins";s:13:"/admin/admins";s:17:"/admin/icons/edit";s:17:"/admin/icons/edit";s:13:"/admin/config";s:13:"/admin/config";s:14:"/admin/profile";s:14:"/admin/profile";s:21:"/admin/providers/item";s:21:"/admin/providers/item";s:22:"/admin/users/authorise";s:22:"/admin/users/authorise";s:14:"/admin/scripts";s:14:"/admin/scripts";s:17:"/admin/admin/edit";s:17:"/admin/admin/edit";s:17:"/admin/cpses/edit";s:17:"/admin/cpses/edit";s:12:"/admin/icons";s:12:"/admin/icons";s:12:"/admin/cpses";s:12:"/admin/cpses";s:6:"/admin";s:6:"/admin";s:17:"/admin/users/edit";s:17:"/admin/users/edit";s:14:"/admin/clients";s:14:"/admin/clients";s:19:"/admin/scripts/edit";s:19:"/admin/scripts/edit";s:12:"/admin/users";s:12:"/admin/users";s:16:"/admin/providers";s:16:"/admin/providers";s:17:"/admin/admin/role";s:17:"/admin/admin/role";}s:8:"url-head";a:18:{s:14:"/admin/scripts";s:14:"/admin/scripts";s:12:"/admin/users";s:12:"/admin/users";s:21:"/admin/providers/item";s:21:"/admin/providers/item";s:17:"/admin/users/edit";s:17:"/admin/users/edit";s:17:"/admin/icons/edit";s:17:"/admin/icons/edit";s:14:"/admin/profile";s:14:"/admin/profile";s:14:"/admin/clients";s:14:"/admin/clients";s:22:"/admin/users/authorise";s:22:"/admin/users/authorise";s:17:"/admin/cpses/edit";s:17:"/admin/cpses/edit";s:12:"/admin/icons";s:12:"/admin/icons";s:13:"/admin/config";s:13:"/admin/config";s:16:"/admin/providers";s:16:"/admin/providers";s:12:"/admin/cpses";s:12:"/admin/cpses";s:6:"/admin";s:6:"/admin";s:19:"/admin/scripts/edit";s:19:"/admin/scripts/edit";s:17:"/admin/admin/role";s:17:"/admin/admin/role";s:13:"/admin/admins";s:13:"/admin/admins";s:17:"/admin/admin/edit";s:17:"/admin/admin/edit";}}s:17:"*_eventsManager";N;s:17:"*_defaultAccess";i:0;s:17:"*_accessGranted";b:0;s:14:"*_activeRole";N;s:18:"*_activeResource";N;s:16:"*_activeAccess";N;s:14:"*_rolesNames";a:2:{s:5:"admin";b:1;s:7:"default";b:1;}s:9:"*_roles";a:2:{i:0;O:16:"Phalcon\Acl\Role":2:{s:8:"*_name";s:5:"admin";s:15:"*_description";s:11:"Super Admin";}i:1;O:16:"Phalcon\Acl\Role":2:{s:8:"*_name";s:7:"default";s:15:"*_description";s:7:"Default";}}s:18:"*_resourcesNames";a:14:{s:1:"*";b:1;s:56:"Appgame\GameBuilder\Controllers\Admin\ProviderController";b:1;s:8:"url-post";b:1;s:7:"url-get";b:1;s:8:"url-head";b:1;s:47:"Appgame\Base\Controllers\Admin\ConfigController";b:1;s:52:"Appgame\GameBuilder\Controllers\Admin\IconController";b:1;s:47:"Appgame\Base\Controllers\Admin\AdminsController";b:1;s:62:"Appgame\GameBuilder\Controllers\Admin\ProviderScriptController";b:1;s:54:"Appgame\GameBuilder\Controllers\Admin\ClientController";b:1;s:49:"Appgame\Base\Controllers\Admin\ProfilesController";b:1;s:51:"Appgame\GameBuilder\Controllers\Admin\CpsController";b:1;s:52:"Appgame\GameBuilder\Controllers\Admin\UserController";b:1;s:46:"Appgame\Base\Controllers\Admin\IndexController";b:1;}s:13:"*_resources";a:13:{i:0;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:56:"Appgame\GameBuilder\Controllers\Admin\ProviderController";s:15:"*_description";N;}i:1;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:8:"url-post";s:15:"*_description";N;}i:2;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:7:"url-get";s:15:"*_description";N;}i:3;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:8:"url-head";s:15:"*_description";N;}i:4;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:47:"Appgame\Base\Controllers\Admin\ConfigController";s:15:"*_description";N;}i:5;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:52:"Appgame\GameBuilder\Controllers\Admin\IconController";s:15:"*_description";N;}i:6;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:47:"Appgame\Base\Controllers\Admin\AdminsController";s:15:"*_description";N;}i:7;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:62:"Appgame\GameBuilder\Controllers\Admin\ProviderScriptController";s:15:"*_description";N;}i:8;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:54:"Appgame\GameBuilder\Controllers\Admin\ClientController";s:15:"*_description";N;}i:9;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:49:"Appgame\Base\Controllers\Admin\ProfilesController";s:15:"*_description";N;}i:10;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:51:"Appgame\GameBuilder\Controllers\Admin\CpsController";s:15:"*_description";N;}i:11;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:52:"Appgame\GameBuilder\Controllers\Admin\UserController";s:15:"*_description";N;}i:12;O:20:"Phalcon\Acl\Resource":2:{s:8:"*_name";s:46:"Appgame\Base\Controllers\Admin\IndexController";s:15:"*_description";N;}}s:10:"*_access";a:2:{s:9:"admin!*!*";i:0;s:11:"default!*!*";i:0;}s:16:"*_roleInherits";N;s:14:"*_accessList";a:89:{s:3:"*!*";b:1;s:64:"Appgame\GameBuilder\Controllers\Admin\ProviderController!postSyn";b:1;s:64:"Appgame\GameBuilder\Controllers\Admin\ProviderController!getList";b:1;s:28:"url-post!/admin/icons/delete";b:1;s:28:"url-post!/admin/icons/client";b:1;s:27:"url-post!/admin/config/edit";b:1;s:21:"url-get!/admin/admins";b:1;s:23:"url-head!/admin/scripts";b:1;s:25:"url-get!/admin/icons/edit";b:1;s:21:"url-get!/admin/config";b:1;s:21:"url-head!/admin/users";b:1;s:56:"Appgame\Base\Controllers\Admin\ConfigController!postEdit";b:1;s:63:"Appgame\GameBuilder\Controllers\Admin\IconController!postClient";b:1;s:30:"url-head!/admin/providers/item";b:1;s:22:"url-get!/admin/profile";b:1;s:55:"Appgame\Base\Controllers\Admin\AdminsController!getList";b:1;s:70:"Appgame\GameBuilder\Controllers\Admin\ProviderScriptController!getList";b:1;s:29:"url-get!/admin/providers/item";b:1;s:62:"Appgame\GameBuilder\Controllers\Admin\ClientController!postSyn";b:1;s:26:"url-head!/admin/users/edit";b:1;s:30:"url-get!/admin/users/authorise";b:1;s:60:"Appgame\Base\Controllers\Admin\ProfilesController!getProfile";b:1;s:61:"Appgame\Base\Controllers\Admin\ProfilesController!postProfile";b:1;s:64:"Appgame\GameBuilder\Controllers\Admin\ProviderController!getItem";b:1;s:23:"url-post!/admin/clients";b:1;s:30:"url-post!/admin/scripts/delete";b:1;s:22:"url-get!/admin/scripts";b:1;s:55:"Appgame\Base\Controllers\Admin\AdminsController!getEdit";b:1;s:26:"url-head!/admin/icons/edit";b:1;s:60:"Appgame\GameBuilder\Controllers\Admin\IconController!getEdit";b:1;s:25:"url-get!/admin/admin/edit";b:1;s:61:"Appgame\GameBuilder\Controllers\Admin\IconController!postEdit";b:1;s:32:"url-post!/admin/providers/params";b:1;s:59:"Appgame\GameBuilder\Controllers\Admin\CpsController!getEdit";b:1;s:64:"Appgame\GameBuilder\Controllers\Admin\ClientController!postLists";b:1;s:71:"Appgame\GameBuilder\Controllers\Admin\ProviderScriptController!postEdit";b:1;s:25:"url-get!/admin/cpses/edit";b:1;s:62:"Appgame\GameBuilder\Controllers\Admin\CpsController!postDelete";b:1;s:55:"Appgame\Base\Controllers\Admin\AdminsController!getRole";b:1;s:27:"url-post!/admin/clients/add";b:1;s:23:"url-head!/admin/profile";b:1;s:62:"Appgame\GameBuilder\Controllers\Admin\ClientController!postAdd";b:1;s:63:"Appgame\GameBuilder\Controllers\Admin\IconController!postDelete";b:1;s:60:"Appgame\GameBuilder\Controllers\Admin\UserController!getList";b:1;s:20:"url-get!/admin/icons";b:1;s:23:"url-head!/admin/clients";b:1;s:29:"url-post!/admin/providers/syn";b:1;s:26:"url-post!/admin/admin/edit";b:1;s:56:"Appgame\Base\Controllers\Admin\ConfigController!getIndex";b:1;s:31:"url-head!/admin/users/authorise";b:1;s:56:"Appgame\Base\Controllers\Admin\AdminsController!postEdit";b:1;s:27:"url-post!/admin/clients/syn";b:1;s:21:"url-post!/admin/icons";b:1;s:20:"url-get!/admin/cpses";b:1;s:26:"url-head!/admin/cpses/edit";b:1;s:31:"url-post!/admin/users/authorise";b:1;s:21:"url-head!/admin/icons";b:1;s:26:"url-post!/admin/admin/role";b:1;s:14:"url-get!/admin";b:1;s:60:"Appgame\GameBuilder\Controllers\Admin\IconController!getList";b:1;s:22:"url-head!/admin/config";b:1;s:26:"url-post!/admin/users/edit";b:1;s:56:"Appgame\Base\Controllers\Admin\AdminsController!postRole";b:1;s:62:"Appgame\GameBuilder\Controllers\Admin\UserController!authorise";b:1;s:25:"url-get!/admin/users/edit";b:1;s:67:"Appgame\GameBuilder\Controllers\Admin\ProviderController!postParams";b:1;s:25:"url-head!/admin/providers";b:1;s:22:"url-get!/admin/clients";b:1;s:21:"url-head!/admin/cpses";b:1;s:15:"url-head!/admin";b:1;s:27:"url-get!/admin/scripts/edit";b:1;s:28:"url-head!/admin/scripts/edit";b:1;s:21:"url-post!/admin/cpses";b:1;s:70:"Appgame\GameBuilder\Controllers\Admin\ProviderScriptController!getEdit";b:1;s:20:"url-get!/admin/users";b:1;s:23:"url-post!/admin/scripts";b:1;s:59:"Appgame\GameBuilder\Controllers\Admin\CpsController!getList";b:1;s:26:"url-head!/admin/admin/role";b:1;s:73:"Appgame\GameBuilder\Controllers\Admin\ProviderScriptController!postDelete";b:1;s:28:"url-post!/admin/cpses/delete";b:1;s:63:"Appgame\GameBuilder\Controllers\Admin\ClientController!getLists";b:1;s:60:"Appgame\GameBuilder\Controllers\Admin\CpsController!postEdit";b:1;s:22:"url-head!/admin/admins";b:1;s:24:"url-get!/admin/providers";b:1;s:25:"url-get!/admin/admin/role";b:1;s:57:"Appgame\GameBuilder\Controllers\Admin\UserController!edit";b:1;s:55:"Appgame\Base\Controllers\Admin\IndexController!getIndex";b:1;s:26:"url-head!/admin/admin/edit";b:1;s:23:"url-post!/admin/profile";b:1;}s:8:"*_func";N;s:28:"*_noArgumentsDefaultAction";i:1;}';

$loop = 1e3;
Timer::start();
for ($i = 0; $i < $loop; ++$i) {
    $result = 'gz' . base64_encode(gzdeflate($txt, 9));
}
$cost = Timer::stop();
var_dump(sprintf('Compress: Before: %s, after: %s', number_format($rawLen = strlen($txt)), number_format($cLen = strlen($result))));
var_dump(sprintf('Compress ratio: %s%%', round(100 * $cLen / $rawLen, 2)));
var_dump(sprintf('Loop: %s, Time cost: %ss, %s microseconds per loop', $loop, $cost, $cost / $loop * 1e6));

Timer::start();
for ($i = 0; $i < $loop; ++$i) {
    if (isset($result{1}) && $result{0} == 'g' && $result{1} == 'z') {
        $newTxt = gzinflate(base64_decode(substr($result, 2)));
    }
}
$cost = Timer::stop();
var_dump(sprintf('Decompress: Exam: %s', var_export($txt == $newTxt, true)));
var_dump(sprintf('Loop: %s, Time cost: %ss, %s microseconds per loop', $loop, $cost, $cost / $loop * 1e6));
